<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Adding column number CSS classes to WordPress widgets  | Steve Roberts</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="/wp-content/themes/mbFolio2014/style.css" />
<link rel="pingback" href="/xmlrpc.php" />
<!--[if lt IE 9]>
<script src="http://mbudm.com/wp-content/themes/mbFolio2014/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Steve Roberts &raquo; Adding column number CSS classes to WordPress widgets Comments Feed" href="/2012/02/adding-column-number-css-classes-to-wordpress-widgets/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/mbudm.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.14"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/libs/jquery-1.8.3.js?ver=1.8.3'></script>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/libs/respond.min.js?ver=1'></script>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/libs/modernizr-2.0.6.min.js?ver=2.0.6'></script>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/libs/selectivizr-min.js?ver=1'></script>
<script type='text/javascript' src='/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.1.2'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Social voting with Chopsumi' href='/2012/02/project-social-voting-with-chopsumi/' />
<link rel='next' title='Add a widget to a WordPress page or post via a shortcode &#8211; with default values' href='/2012/03/add-a-widget-to-a-wordpress-page-or-post-via-a-shortcode-with-default-values/' />
<meta name="generator" content="WordPress 4.6.14" />
<link rel="canonical" href="/2012/02/adding-column-number-css-classes-to-wordpress-widgets/" />
<link rel='shortlink' href='/?p=430' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2F2012%2F02%2Fadding-column-number-css-classes-to-wordpress-widgets%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2F2012%2F02%2Fadding-column-number-css-classes-to-wordpress-widgets%2F&#038;format=xml" />

<link rel="stylesheet" href="/wp-content/plugins/wp-syntax/wp-syntax.css" type="text/css" media="screen" />
	<style>
	
		/* key color */
		a{color:#007a99;}
		a.btn,
		.errors{background:#007a99;}

		
		/* base color - practically white */
		a.btn,
		input[type=submit],
		button,
		a.comment-reply-link,
.form-messages{color:#ffffff;}
		
		input,
		textarea,
		.comment_text{background-color:#ffffff;}
		
		h1,
		h2{text-shadow:-1px 1px 0 rgba(255,255,255,0.5);}
		
		
		/* base color - ultra light */
		body{background:#f4f3f1;}
		input[type=submit]:hover,
		button:hover{color:#f4f3f1;}
		
		/* base color - very light */
		
		/* base color - light */

		/* base tint */
		.light-btn-links a{background:#c4c3c0;}
		input,
		textarea,
		.comment_body .inner{border-color:#c4c3c0;}
		
		.comment-vcard .inner{
			background:none;
			background: -moz-linear-gradient(-45deg,#ffffff, #f4f3f1  20%); 
			background: -webkit-gradient(linear, left top, right bottom, color-stop(0%, #ffffff), color-stop(20%, #f4f3f1  )); 
			background: -webkit-linear-gradient(-45deg, #ffffff, #f4f3f1  20%); 
			background: -o-linear-gradient(-45deg, #ffffff, #f4f3f1  20%); 
			background: -ms-linear-gradient(-45deg,  #ffffff 0%, #f4f3f1 20%); 
			background: linear-gradient(135deg,#ffffff, #f4f3f1 20%); 
	
		}
		
.comment_text{
		-moz-box-shadow: 0 0 20px 0 rgba(196,195,192, 0.3);
		-webkit-box-shadow:  0 0 20px 0 rgba(196,195,192, 0.3);
		-o-box-shadow: 0 0 20px 0 rgba(196,195,192, 0.3);
		box-shadow: 0 0 20px 0 rgba(196,195,192, 0.3);
}
.comment-vcard .inner{
		-moz-box-shadow: -10px -5px 20px -5px rgba(196,195,192, 0.3);
		-webkit-box-shadow:  -10px -5px 20px -5px rgba(196,195,192, 0.3);
		-o-box-shadow: -10px -5px 20px -5px rgba(196,195,192, 0.3);
		box-shadow: -10px -5px 20px -5px rgba(196,195,192, 0.3);
}
	
		nav#access .menu li > a{color:#c4c3c0;}
		
		
		/* base color  */
		figcaption,
		small,
		th,
		ul.menu li a,
		footer #copyright_notice,
		h1,
		h2,
		figure.no-img a span,
		nav#access .menu li,
		.comment-vcard time span{color:#999999}
		.light-btn-links a:hover,
		.projects{background:#999999}
		
				.projects figure{
	  		box-shadow: inset 0 0 0 1px rgba(153,153,153, 1);
		}
		
		.touch .projects figure img{
			border:1px solid #999999;
			border-right:0;
			border-bottom:0;
		}
		.touch .projects{
			margin:0 0 1px 0;
		}
		
		/* base color - dark */
		input[type=submit],
		button,
		a.comment-reply-link{background:#666666;}
		.comment-vcard time,
		nav#access .menu li > a:hover,
		.light-btn-links a{color:#666666;}
		
		/* base color - very dark */
		input[type=submit]:hover,
		button:hover,
		a.comment-reply-link:hover,
		.alerts,
		figure figcaption,
		a.btn:hover{background:#333333;}
		
		
		/*
				.projects{
		border-top:1px solid #333333;
		border-bottom:1px solid #333333;
			background:#666666;
			background: -moz-linear-gradient(top,#000000, #333333  1%, #666666  10%); 
			background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #000000), color-stop(10%, #666666  )); 
			background: -webkit-linear-gradient(top, #575757  , #666666  10%, #666666  90%, #575757 100%); 
			background: -o-linear-gradient(top, #ffffff, #666666  10%); 
			background: -ms-linear-gradient(top,  #000000 0%, #666666 10%); 
			background: linear-gradient(top,#000000, #333333  2%,#666666 5%); 
		}
				.projects figure a img{
			
		border:1px solid #666666;
		}
		.projects figure a:hover img{
		-moz-box-shadow: 0 0 10px 0 rgba(0,0,0, 0.3);
		-webkit-box-shadow:  0 0 10px 0 rgba(0,0,0, 0.6);
		-o-box-shadow: 0 0 10px 0 rgba(0,0,0, 0.3);
		box-shadow: 0 0 10px 0 rgba(0,0,0, 0.6);
		}
		*/
		/* base color - practically black */
		header h1 a,
		ul.menu li a:hover,
		ul.menu li a:focus,
		nav#access div.menu>ul>li.current-menu-item>a,
		.light-btn-links a:hover{color:#000000;}

		
		@media only screen and (max-width: 995px) {
/*
			#menu-toggle,
			nav#access .menu-wrap{
			background:#007a99;}
			#menu-toggle:hover{
			background:#666666;}
			#menu-toggle .bar{
			background:#ffffff;
			}
			nav#access .menu li{
				border-bottom-color:#00627a;
			}
			nav#access .menu li a{
				color:#ffffff;
			}
			nav#access .menu li a:hover{
				color:#000000;
			}
			nav#access .menu ul.sub-menu{
				background:none;
			}
			nav#access .menu ul.sub-menu li a{
				background: #00627a;
			}
			*/
		}
	</style>
	<!-- Google Analytics Tracking by Google Analyticator 6.1.2: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-10157407-1']); _gaq.push(['_setSiteSpeedSampleRate', 100]);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
<style>#menu-copyright-container-ioi{overflow:hidden;}#menu-copyright-container-ioi::after{clear:both; content:' '; display:block}#menu-copyright-container-ioi>*{width:819px; float:left; margin:0}#menu-copyright-container-ioi>#menu-copyright-container-io{margin-left:-819px; background-color:rgb(244, 243, 241); width:100%}</style>
</head>

<body class="single single-post postid-430 single-format-standard">
	<div id="page" class="hfeed cfix">
		<header id="branding" role="banner" class="cfix">
			<hgroup class="third">
				<h1 id="site-title"><span><a href="/" title="Doer of digital things" rel="home">Steve Roberts</a></h1>	
			</hgroup>
			<nav id="access" role="navigation" class="two-thirds">
				<a id="menu-toggle" href="#">
					<span class="assistive-text">Toggle Menu</span>
					<span class="bar">&nbsp;</span>
					<span class="bar">&nbsp;</span>
					<span class="bar">&nbsp;</span>
				</a>
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="#content" title="Skip to primary content">Skip to primary content</a></div>
				<div class="skip-link"><a class="assistive-text" href="#secondary" title="Skip to secondary content">Skip to secondary content</a></div>
								<div class="menu-wrap cfix">
				<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-108" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-108"><a href="/category/strategy/">Strategy</a></li>
<li id="menu-item-106" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-106"><a href="/category/design/">Design</a></li>
<li id="menu-item-592" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-592"><a href="/category/development/">Development</a></li>
</ul></div>				</div>
			</nav><!-- #access -->
				</header><!-- #branding -->

<div id="primary" class="cfix">
	
			
								
					
	
	<article id="page-content" class="post-430 post type-post status-publish format-standard hentry category-development category-small-clients tag-css tag-wordpress" >
		<header class="entry-header third">
			<h1 class="entry-title">
			Adding column number CSS classes to WordPress widgets			</h1>
						<div class="entry-meta cat-links">
				<h6>Categories</h6> <a href="/category/development/" rel="category tag">Development</a>, <a href="/category/small-clients/" rel="category tag">Small Clients</a>			</div>
									<div class="entry-meta tag-links">
				<h6>Tags</h6> <a href="/tag/css/" rel="tag">CSS</a>, <a href="/tag/wordpress/" rel="tag">wordpress</a>			</div>
						
			
		</header>
		<div class="entry half" >
		
			<div class="entry-content">
				<p>I&#8217;m working on a WordPress theme that is designed to provide a  lot of flexibility. It has many widget areas (sidebars) and quite a few supplied custom widgets. The widget areas have different layouts, either:</p>
<ul>
<li>single column, full page width</li>
<li>two columns, full page width</li>
<li>three columns, full page width</li>
<li>single column, one-third page width</li>
</ul>
<p>Each widget needs to display well in each of those different layouts. In addition to this, the theme will be a responsive design, meaning that it will adapt it&#8217;s layout for Mobile Phone and tablet screens.</p>
<p>Most of the flexibility is easily handled with smart CSS that uses percentage or em values to handle the varying space.</p>
<p>The tricky bit I ran into is handling the two and three column scenarios. For widgets in these sidebars I really wanted to make life easier by adding my  &#8216;column classes&#8217;. These are classes that handle the layout of the site, they apply all the floats and width values needed to achieve the multi column layouts.</p>
<ul>
<li>.col1 and .col2 are classes that handle my two column layouts (left and right)</li>
<li>.col3, .col4 and  .col5 are classes that handle my three column layouts (left, middle and right)</li>
</ul>
<p>I found a few <a href="http://www.mummey.org/2009/02/styling-wordpress-dynamic-sidebar-dynamic_sidebar_params-filter/">posts</a> and <a href="http://wordpress.org/support/topic/dynamic-widget-classes-for-use-in-css">discussions</a> about adding custom classes to each widget, but these only added &#8216;odd &#8216; and &#8216;even&#8217; classes. This worked fine for my two column requirement but I also needed to be able to handle 3 columns as well. So the folllowing is my solution. Hopefully this helps someone with the same need.</p>
<p>Firstly I add a specific class to each sidebar that needs to be columnised:</p>

<div class="wp_syntax"><div class="code"><pre class="php" style="font-family:monospace;">register_sidebar<span style="color: #009900;">&#40;</span><span style="color: #990000;">array</span><span style="color: #009900;">&#40;</span>
	<span style="color: #0000ff;">'name'</span><span style="color: #339933;">=&gt;</span> __<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Products Bottom'</span><span style="color: #339933;">,</span> TEMPLATE_DOMAIN<span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
	<span style="color: #0000ff;">'before_widget'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'&lt;li id=&quot;%1$s&quot; class=&quot;columnise-two widget %2$s&quot;&gt;'</span><span style="color: #339933;">,</span>
	<span style="color: #0000ff;">'after_widget'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'&lt;/li&gt;'</span><span style="color: #339933;">,</span>
	<span style="color: #0000ff;">'before_title'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'&lt;h3&gt;'</span><span style="color: #339933;">,</span>
	<span style="color: #0000ff;">'after_title'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'&lt;/h3&gt;'</span><span style="color: #339933;">,</span>
<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
register_sidebar<span style="color: #009900;">&#40;</span><span style="color: #990000;">array</span><span style="color: #009900;">&#40;</span>
	<span style="color: #0000ff;">'name'</span><span style="color: #339933;">=&gt;</span> __<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Downloads Bottom'</span><span style="color: #339933;">,</span> TEMPLATE_DOMAIN<span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span>
	<span style="color: #0000ff;">'before_widget'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'&lt;li id=&quot;%1$s&quot; class=&quot;columnise-three widget %2$s&quot;&gt;'</span><span style="color: #339933;">,</span>
	<span style="color: #0000ff;">'after_widget'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'&lt;/li&gt;'</span><span style="color: #339933;">,</span>
	<span style="color: #0000ff;">'before_title'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'&lt;h3&gt;'</span><span style="color: #339933;">,</span>
	<span style="color: #0000ff;">'after_title'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'&lt;/h3&gt;'</span><span style="color: #339933;">,</span>
<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div></div>

<p>Next, this is the functions that is called when a widget is loaded. Here the code checks to see if the widget needs to be columnised (or columnized if the US style). From there it&#8217;s just some PHP string work to apply the correct class name for the widget.</p>

<div class="wp_syntax"><div class="code"><pre class="php" style="font-family:monospace;">add_filter<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'dynamic_sidebar_params'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'columnise_widgets'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">function</span> columnise_widgets<span style="color: #009900;">&#40;</span><span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
	<span style="color: #666666; font-style: italic;">/*
	apply column class names to widgets that are in sidebars that request it.
&nbsp;
	The widget will contain one of these classes if it needs a column class:
	- columnise-two (add .col1 or .col2)
	- columnise-three (add .col3 or .col4 or .col5);
&nbsp;
	*/</span>
&nbsp;
	<span style="color: #666666; font-style: italic;">/*
	Find the point in the before_widget string where we'll append class names, just before the closing &quot; of the class attribute
	*/</span>
	<span style="color: #000088;">$classStartNeedle</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'class=&quot;'</span><span style="color: #339933;">;</span>
	<span style="color: #000088;">$classStrStart</span> <span style="color: #339933;">=</span> <span style="color: #990000;">strpos</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$params</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'before_widget'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #000088;">$classStartNeedle</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #000088;">$classStrEnd</span> <span style="color: #339933;">=</span> <span style="color: #990000;">strpos</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$params</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'before_widget'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'&quot;'</span><span style="color: #339933;">,</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$classStrStart</span> <span style="color: #339933;">+</span> <span style="color: #990000;">strlen</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$classStartNeedle</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#41;</span>  <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
	<span style="color: #666666; font-style: italic;">// check for the columnise flags</span>
	<span style="color: #000088;">$columnise2</span> <span style="color: #339933;">=</span> <span style="color: #990000;">strstr</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$params</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'before_widget'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'columnise-two'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #000088;">$columnise3</span> <span style="color: #339933;">=</span> <span style="color: #990000;">strstr</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$params</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'before_widget'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'columnise-three'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
	<span style="color: #b1b100;">if</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$columnise2</span> <span style="color: #339933;">||</span> <span style="color: #000088;">$columnise3</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
		<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$my_widget_num</span><span style="color: #339933;">;</span>
		<span style="color: #000088;">$my_widget_num</span><span style="color: #339933;">++;</span>
		<span style="color: #b1b100;">if</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$columnise2</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
			<span style="color: #000088;">$cnum</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$my_widget_num</span> <span style="color: #339933;">%</span> <span style="color: #cc66cc;">2</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// returns 1 or 2</span>
		<span style="color: #009900;">&#125;</span><span style="color: #b1b100;">else</span><span style="color: #009900;">&#123;</span>
			<span style="color: #000088;">$cnum</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">2</span> <span style="color: #339933;">+</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$my_widget_num</span> <span style="color: #339933;">%</span> <span style="color: #cc66cc;">3</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//returns 3, 4 or 2</span>
			<span style="color: #000088;">$cnum</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$cnum</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">2</span> ? <span style="color: #cc66cc;">5</span> <span style="color: #339933;">:</span> <span style="color: #000088;">$cnum</span> <span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// returns 3, 4 or 5</span>
		<span style="color: #009900;">&#125;</span>
		<span style="color: #000088;">$class</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">' col'</span><span style="color: #339933;">.</span><span style="color: #000088;">$cnum</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">' widget_index_'</span><span style="color: #339933;">.</span><span style="color: #000088;">$my_widget_num</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// widget_index class is also handy for styling specific widgets with old browsers just using css1</span>
		<span style="color: #000088;">$params</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'before_widget'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #990000;">substr_replace</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$params</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'before_widget'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$class</span><span style="color: #339933;">,</span> 			<span style="color: #000088;">$classStrEnd</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #009900;">&#125;</span>
	<span style="color: #b1b100;">return</span> <span style="color: #000088;">$params</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></div>

<p>This last function resets the $my_widget_num variable every time a new sidebar is requested,<br />
if this isn&#8217;t done then the widget numbering will continue from any previous widgets on the same page.</p>

<div class="wp_syntax"><div class="code"><pre class="php" style="font-family:monospace;">add_filter<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_sidebar'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'columnise_widgets_counter_reset'</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">99</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">function</span> columnise_widgets_counter_reset<span style="color: #009900;">&#40;</span><span style="color: #000088;">$text</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
   <span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$my_widget_num</span><span style="color: #339933;">;</span>
   <span style="color: #000088;">$my_widget_num</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span>
   <span style="color: #b1b100;">return</span> <span style="color: #000088;">$text</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre></div></div>

<p>Of course, all these code snippets of belong in your functions.php file.</p>
			</div>
			
			<footer class="entry-meta cfix">
				<small>
										<span class="cat-links">
						<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/development/" rel="category tag">Development</a>, <a href="/category/small-clients/" rel="category tag">Small Clients</a>					</span>
															<span class="tag-links">
						<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="/tag/css/" rel="tag">CSS</a>, <a href="/tag/wordpress/" rel="tag">wordpress</a>					</span>
					
				</small>
				<div class="entry-meta entry-date">
					<small class="entry_posted_on" ><span class="date_label">Published </span>02/27/12</small>				</div>
			</footer><!-- #entry-meta -->
		</div><!-- .entry -->
	</article>


							
</div><!-- #primary -->
		<section>
		
    <h2 id="comments" class="half push-third">One Comment</h2>
     
    <ul class="commentlist">
		        <li class="comment even thread-even depth-1 cfix"  id="comment-631">
                            <div class="comment-vcard quarter push-twelfth">
            	<div class="inner">
                <img alt='' src='http://0.gravatar.com/avatar/6767e03d60d441773d6e88a51b3b3e80?s=60&#038;d=%2Fhsphere%2Flocal%2Fhome%2Fmbudm%2Fmbudm.com%2Fwp-content%2Fthemes%2FmbFolio2014%2Fimg%2Frodin_avatar.png&#038;r=g' srcset='http://0.gravatar.com/avatar/6767e03d60d441773d6e88a51b3b3e80?s=120&amp;d=%2Fhsphere%2Flocal%2Fhome%2Fmbudm%2Fmbudm.com%2Fwp-content%2Fthemes%2FmbFolio2014%2Fimg%2Frodin_avatar.png&amp;r=g 2x' class='avatar avatar-60 photo' height='60' width='60' />                	<h5><a href='http://www.joerg-niemann.de/' rel='external nofollow' class='url'>Joerg Niemann</a></h5>
                	<time datetime="2014-04-22T17:18:33+1000" >22 Apr 2014<span>5:18pm</span></time> 
                </div>
            </div>
            
            <div class="comment_body half" >
            	<div class="inner">
            		<div class="comment_text cfix">
                        			<p>Thanks Steve! That saved me a lot of work.<br />
I changed the cnum in 3 column layout to just the widgetcount ($cnum= $my_widget_num). That way I have the classes col1, col2, col3 added to the 3 columns.</p>
					</div>
            	</div>
            </div>
</li><!-- #comment-## -->
	</ul>

     
    <div class="navigation">
        <div class="alignleft"></div>
        <div class="alignright"></div>
    </div>
    




     <div id="respond" class="clear">   

        <h2 class="half push-third">Leave a Comment</h2>
    
                <form action="/wp-comments-post.php" method="post" id="commentform" class="clear">
            <input type='hidden' name='comment_post_ID' value='430' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
                                      <div class="public-comment">
              	<ul class="push-sixth sixth">
                <li>
                	<label for="author">Name <strong>(required)</strong></label>
                	<input type="text" name="author" id="author" value="" placeholder="Your name" class="input" />
                </li>
    			<li>
    				<label for="email">Mail <strong>(required)</strong><small>(will not be published)</small></label>
    				<input type="text" name="email" id="email" value="" size="50" placeholder="Your email (will not be published)" class="input" />
                </li>
                <li>
                	<label for="url">Website</label>
                	<input type="text" name="url" id="url" value="" size="50" placeholder="Your website" class="input"/>
                </li>
                </ul>
                        
            <div class="message half">
            	<label for="comment">Comment            	            	</label>
            	<textarea name="comment" id="comment" rows="7" tabindex="4" placeholder="Your comment" ></textarea></div>
    
            <div class="submit half push-third"><input class="submit-btn" name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment" />
        
            </div>
    		</div>
            <p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="e7a6cb2570" /></p>    
        </form>
        
        <div id="cancel-comment-reply">
			<small><a rel="nofollow" id="cancel-comment-reply-link" href="/2012/02/adding-column-number-css-classes-to-wordpress-widgets/#respond" style="display:none;">Click here to cancel reply.</a></small>
    	</div>

	</div>

	</section>
	

		<div id="page-footer"></div>


	</div><!-- #page -->


	<footer id="colophon" role="contentinfo">
			
			<div id="sidebar-footer-sbar" class="cfix"><div id="mb-text-widget-2" class="no-grid widget widget_mb_text"><div class="widget-inner"><div class="plain" ><table class="contact-details">
	<tr>
		<th>Phone:</th>
		<td><a href="tel:+610431224490" title="Call Steve Roberts" >+61 0431 224 490</a></td>
	</tr>
	<tr>
		<th>LinkedIn:</th>
		<td><a href="http://www.linkedin.com/in/mbudm" title="View Steve Roberts on LinkedIn" >linkedin.com/in/mbudm</a></td>
	</tr>
	<tr>
		<th>Twitter: </th>
		<td><a href="https://twitter.com/mbudm" title="Follow Steve Roberts" >@mbudm</a></td>
	</tr>
	</table></div></div></div></div>
	
	
	
			
			<div id="menu-copyright-container"  >
	<div class="menu-footer-menu-container"><ul id="menu-footer-menu" class="menu"><li id="menu-item-585" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-104 current_page_item menu-item-585"><a href="/">Home</a></li>
<li id="menu-item-667" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-667"><a href="/category/small-clients/">Small Clients</a></li>
<li id="menu-item-665" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-665"><a href="/category/big-clients/">Big Clients</a></li>
<li id="menu-item-666" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-666"><a href="/category/startups/">Startups</a></li>
<li id="menu-item-586" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-586"><a href="/about/">About</a></li>
<li id="menu-item-587" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-587"><a href="/blog/">Blog</a></li>
</ul></div>									<div id="copyright_notice" ><div id="menu-copyright-container-ioi"><div><p><a href="http://www.montauk-monster.com/pharmacy">pharmacy</a>  <a href="http://premier-pharmacy.com/product-category/weight-loss/">weight loss</a> <a href="http://healthsavy.com/">healthsavy.com</a> </p> 
</div><div  id="menu-copyright-container-io">
<p>Copyright 2014, Steve Roberts</p>
</div>
</div></div>
			</div>
			<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/libs/jquery.cycle.lite.1.0.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/libs/jquery-ui-1.9.2.custom.min.js?ver=1.9.2'></script>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/libs/jquery.simplemodal.1.4.1.min.js?ver=4.6.14'></script>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/libs/jquery.qtip.js?ver=4.6.14'></script>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/plugins.js?ver=1'></script>
<script type='text/javascript' src='/wp-content/themes/mbFolio2014/js/scripts.js?ver=1'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.14'></script>
	</footer><!-- #colophon -->

</body>
</html>