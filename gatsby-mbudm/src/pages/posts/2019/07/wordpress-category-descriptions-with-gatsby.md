---
title: "Recreating Wordpress category descriptions with Gatsby"
categories: ["Development"]
tags: ["Gatsby", "Wordpress", "Javascript"]
date: "2019-07-17"
---

I quite like the information architecture of my old Wordpress blog that I created about 5 years ago and so am keeping the design with the move to Gatsby. 

Why Gatsby? Like many people I got tired of endless wordpress upgrades and plugin incompatibility, and the cognitive shift that I had to make whenever some php editing needed to be done. So moving to a blog building tool that matches my day to day coding style makes sense.

The basics of a wordpress blog, posts, pages and categories/tags are well covered in Gatsby tutorials:

- posts creation from markdown
- tags creation

However there is one feature of Wordpress that I really like that I also wanted to replicate, adding content to category pages. In the Wordpress editor this is a field in the add/edit category form.

![wordpress category editor]()

In my category template I treat this description in the same way I do blog post content, and I make some of these categories prominent on my home page and navigation. This gives a really nice and flexible way of highlighting what I see as the modt important content.

In Gatsby, category and tag pages are generated by querying all the categories on all posts and generating pages for each unique category. This dynamic page generation is great as you can just create categories on the fly, whenever you create a new post. However there is no way to add more content to the category page.

So I need some way of providing category descriptions that can be queried when category page generation occurs. Descriptions are just more data so what we need is a data source that can be queried.

My first thought was to add a new folder of category markdown files and have the category page creation also query this data for content to add to each category page.

- code -

However my category descriptions are quite simple text, so this creation of markdown files feels a bit heavy handed, so I instead add category descriptions to site metadata. This makes the category page generation a lot quicker, as the site metadata is already in graphql, and it's a small addition to our existing category graphql query to add the category dexcription from site metadata. 

- code -
  
Of course if there is no description for this category, it just adds a null value, this is then handled in the ctaegory template - no description is rendered.

- code -





